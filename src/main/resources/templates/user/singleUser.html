<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorator="layout/main">
<head>
  <title>Utilisateur</title>
</head>


<section layout:fragment="mainContent">

  <form class="col s12" action="#" th:action="@{/account/save}" th:object="${user}" method="post">

    <!-- ID -->
    <div class="row">
      <div class="input-field col s12">
        <input id="id" hidden="true" th:field="*{id}"/>
      </div>
    </div>

    <!-- PSEUDO -->
    <div class="row">
      <div class="input-field col s12">
        <input readonly="true" id="pseudo" type="text" th:field="*{pseudo}"/>
        <label for="pseudo"><span th:text="#{register.username}"></span></label>
      </div>
    </div>


    <!-- MAIL -->
    <div class="row">
      <div th:if="${#fields.hasErrors('email')}">
        <div class="col s8 offset-s2 card-panel red darken-1 center-align white-text">
          <span th:errors="*{email}"/>
        </div>
      </div>

      <div class="input-field col s12">
        <input id="email" type="text" th:field="*{email}"/>
        <label for="email"><span th:text="#{register.email}"></span></label>
      </div>
    </div>

    <!-- CURRENT PASSWORD -->
    <div class="row">
      <div th:if="${#fields.hasErrors('password')}">
        <div class="col s8 offset-s2 card-panel red darken-1 center-align white-text">
          <span th:errors="*{password}"/>
        </div>
      </div>

      <div class="input-field col s12">
        <input id="password" type="password" th:field="*{password}"/>
        <label for="password"><span th:text="#{register.oldPassword}"></span></label>
      </div>
    </div>

    <!-- NEW PASSWORD -->
    <div class="row">
      <div th:if="${#fields.hasErrors('newPassword')}">
        <div class="col s8 offset-s2 card-panel red darken-1 center-align white-text">
          <span th:errors="*{newPassword}"/>
        </div>
      </div>

      <div class="input-field col s12">
        <input id="newPassword" type="password" th:field="*{newPassword}"/>
        <label for="newPassword"><span th:text="#{register.password}"></span></label>
      </div>
    </div>
    <div class="row">
      <div class="input-field col s12">
        <input th:id="password_confirm" th:name="password_confirm" type="password"/>
        <label th:for="password_confirm"><span
            th:text="#{register.password_confirm}"></span></label>
      </div>
    </div>

    <!-- SUBMIT -->
    <button class="btn waves-effect waves-light amber" type="submit" name="action">
      <span th:text="#{send}"></span>
      <i class="material-icons right">send</i>
    </button>

  </form>

</section>


</html>